16:32:53 DEBUG Workflow.Factory Workflow::Factory (24) Trying to import 'FACTORY' of type 'Workflow::Factory' to 'Workflow::Action' 
16:32:53 DEBUG Workflow.Factory Workflow::Factory (73) Creating empty instance of 'Workflow::Factory' factory for singleton use 
16:32:53 DEBUG Workflow.Factory Workflow::Factory (32) Target 'Workflow::Action::FACTORY' not yet defined, creating subroutine on the fly 
16:32:53 DEBUG Workflow.Factory Workflow::Factory (24) Trying to import 'FACTORY' of type 'Workflow::Factory' to 'Workflow::State' 
16:32:53 DEBUG Workflow.Factory Workflow::Factory (32) Target 'Workflow::State::FACTORY' not yet defined, creating subroutine on the fly 
16:32:53 DEBUG Workflow.Factory Workflow::Factory (24) Trying to import 'FACTORY' of type 'Workflow::Factory' to 'Workflow' 
16:32:53 DEBUG Workflow.Factory Workflow::Factory (32) Target 'Workflow::FACTORY' not yet defined, creating subroutine on the fly 
16:32:53 DEBUG Workflow.Factory Workflow::Factory (92) Using 'action' configuration file(s): workflow_action.xml 
16:32:53 DEBUG Workflow.Factory Workflow::Factory (92) Using 'condition' configuration file(s): workflow_condition.xml 
16:32:53 DEBUG Workflow.Factory Workflow::Factory (92) Using 'validator' configuration file(s): workflow_validator.xml 
16:32:53 DEBUG Workflow.Factory Workflow::Factory (92) Using 'workflow' configuration file(s): workflow.xml 
16:32:53 DEBUG Workflow.Factory Workflow::Factory (98) Adding condition configurations... 
16:32:53 INFO Workflow.Config.XML Workflow::Config::XML (50) Will parse 'condition' XML config file 'workflow_condition.xml' 
16:32:53 INFO Workflow.Config.XML Workflow::Config::XML (59) Parsed XML 'workflow_condition.xml' ok 
16:32:53 DEBUG Workflow.Config.XML Workflow::Config::XML (62) Adding multiple configurations for 'condition' 
16:32:53 DEBUG Workflow.Factory Workflow::Factory (527) Adding configuration for condition 'HasUser' 
16:32:53 DEBUG Workflow.Factory Workflow::Factory (536) Trying to include condition class 'TestApp::Condition::HasUser' 
16:32:53 DEBUG Workflow.Factory Workflow::Factory (543) Included condition 'HasUser' class 'TestApp::Condition::HasUser' ok; now try to instantiate condition... 
16:32:53 DEBUG Workflow.Factory Workflow::Factory (550) Instantiated condition 'HasUser' ok 
16:32:53 DEBUG Workflow.Factory Workflow::Factory (112) Adding validator configurations... 
16:32:53 INFO Workflow.Config.XML Workflow::Config::XML (50) Will parse 'validator' XML config file 'workflow_validator.xml' 
16:32:53 INFO Workflow.Config.XML Workflow::Config::XML (59) Parsed XML 'workflow_validator.xml' ok 
16:32:53 DEBUG Workflow.Config.XML Workflow::Config::XML (62) Adding multiple configurations for 'validator' 
16:32:53 DEBUG Workflow.Factory Workflow::Factory (575) Adding configuration for validator 'DateValidator' 
16:32:53 DEBUG Workflow.Factory Workflow::Factory (584) Trying to include validator class 'Workflow::Validator::MatchesDateFormat' 
16:32:53 DEBUG Workflow.Factory Workflow::Factory (590) Included validator 'DateValidator' class 'Workflow::Validator::MatchesDateFormat'  ok; now try to instantiate validator... 
16:32:53 DEBUG Workflow.Factory Workflow::Factory (597) Instantiated validator 'DateValidator' ok 
16:32:53 DEBUG Workflow.Factory Workflow::Factory (127) Adding persister configurations... 
16:32:53 DEBUG Workflow.Factory Workflow::Factory (142) Adding action configurations... 
16:32:53 INFO Workflow.Config.XML Workflow::Config::XML (50) Will parse 'action' XML config file 'workflow_action.xml' 
16:32:53 INFO Workflow.Config.XML Workflow::Config::XML (59) Parsed XML 'workflow_action.xml' ok 
16:32:53 DEBUG Workflow.Config.XML Workflow::Config::XML (62) Adding multiple configurations for 'action' 
16:32:53 DEBUG Workflow.Factory Workflow::Factory (436) Adding configuration for action 'TIX_NEW' 
16:32:53 DEBUG Workflow.Factory Workflow::Factory (445) Trying to include action class 'TestApp::Action::TicketCreate'... 
16:32:53 DEBUG Workflow.Factory Workflow::Factory (24) Trying to import 'FACTORY' of type 'Workflow::Factory' to 'TestApp::Ticket' 
16:32:53 DEBUG Workflow.Factory Workflow::Factory (32) Target 'TestApp::Ticket::FACTORY' not yet defined, creating subroutine on the fly 
16:32:53 DEBUG Workflow.Factory Workflow::Factory (24) Trying to import 'FACTORY' of type 'Workflow::Factory' to 'TestApp::Action::TicketCreate' 
16:32:53 DEBUG Workflow.Factory Workflow::Factory (32) Target 'TestApp::Action::TicketCreate::FACTORY' not yet defined, creating subroutine on the fly 
16:32:53 DEBUG Workflow.Factory Workflow::Factory (451) Included action 'TIX_NEW' class 'TestApp::Action::TicketCreate' ok 
16:32:53 DEBUG Workflow.Factory Workflow::Factory (436) Adding configuration for action 'TIX_COMMENT' 
16:32:53 DEBUG Workflow.Factory Workflow::Factory (445) Trying to include action class 'TestApp::Action::TicketComment'... 
16:32:53 DEBUG Workflow.Factory Workflow::Factory (451) Included action 'TIX_COMMENT' class 'TestApp::Action::TicketComment' ok 
16:32:53 DEBUG Workflow.Factory Workflow::Factory (436) Adding configuration for action 'TIX_EDIT' 
16:32:53 DEBUG Workflow.Factory Workflow::Factory (445) Trying to include action class 'TestApp::Action::TicketUpdate'... 
16:32:53 DEBUG Workflow.Factory Workflow::Factory (451) Included action 'TIX_EDIT' class 'TestApp::Action::TicketUpdate' ok 
16:32:53 DEBUG Workflow.Factory Workflow::Factory (436) Adding configuration for action 'TIX_CLOSE' 
16:32:53 DEBUG Workflow.Factory Workflow::Factory (445) Trying to include action class 'TestApp::Action::TicketUpdate'... 
16:32:53 DEBUG Workflow.Factory Workflow::Factory (451) Included action 'TIX_CLOSE' class 'TestApp::Action::TicketUpdate' ok 
16:32:53 DEBUG Workflow.Factory Workflow::Factory (436) Adding configuration for action 'TIX_REOPEN' 
16:32:53 DEBUG Workflow.Factory Workflow::Factory (445) Trying to include action class 'TestApp::Action::TicketUpdate'... 
16:32:53 DEBUG Workflow.Factory Workflow::Factory (451) Included action 'TIX_REOPEN' class 'TestApp::Action::TicketUpdate' ok 
16:32:53 DEBUG Workflow.Factory Workflow::Factory (436) Adding configuration for action 'null' 
16:32:53 DEBUG Workflow.Factory Workflow::Factory (445) Trying to include action class 'Workflow::Action::Null'... 
16:32:53 DEBUG Workflow.Factory Workflow::Factory (451) Included action 'null' class 'Workflow::Action::Null' ok 
16:32:53 DEBUG Workflow.Factory Workflow::Factory (436) Adding configuration for action 'null2' 
16:32:53 DEBUG Workflow.Factory Workflow::Factory (445) Trying to include action class 'Workflow::Action::Null'... 
16:32:53 DEBUG Workflow.Factory Workflow::Factory (451) Included action 'null2' class 'Workflow::Action::Null' ok 
16:32:53 DEBUG Workflow.Factory Workflow::Factory (157) Adding workflow configurations... 
16:32:53 INFO Workflow.Config.XML Workflow::Config::XML (50) Will parse 'workflow' XML config file 'workflow.xml' 
16:32:53 INFO Workflow.Config.XML Workflow::Config::XML (59) Parsed XML 'workflow.xml' ok 
16:32:53 DEBUG Workflow.Config.XML Workflow::Config::XML (67) Adding single configuration for 'workflow' 
16:32:53 DEBUG Workflow.State Workflow::State (257) Constructing 'Workflow::State' object for state INITIAL 
16:32:53 DEBUG Workflow.State Workflow::State (283) Adding action 'TIX_NEW' to 'Workflow::State' 'INITIAL' 
16:32:53 DEBUG Workflow.State Workflow::State (329) Adding 'INITIAL' 'TIX_NEW' config 
16:32:53 DEBUG Workflow.State Workflow::State (257) Constructing 'Workflow::State' object for state TIX_CREATED 
16:32:53 DEBUG Workflow.State Workflow::State (283) Adding action 'TIX_COMMENT' to 'Workflow::State' 'TIX_CREATED' 
16:32:53 DEBUG Workflow.State Workflow::State (329) Adding 'TIX_CREATED' 'TIX_COMMENT' config 
16:32:53 DEBUG Workflow.State Workflow::State (283) Adding action 'TIX_EDIT' to 'Workflow::State' 'TIX_CREATED' 
16:32:53 DEBUG Workflow.State Workflow::State (329) Adding 'TIX_CREATED' 'TIX_EDIT' config 
16:32:53 INFO Workflow.State Workflow::State (360) Fetching condition 'HasUser' 
16:32:53 DEBUG Workflow.State Workflow::State (257) Constructing 'Workflow::State' object for state TIX_IN_PROGRESS 
16:32:53 DEBUG Workflow.State Workflow::State (283) Adding action 'TIX_CLOSE' to 'Workflow::State' 'TIX_IN_PROGRESS' 
16:32:53 DEBUG Workflow.State Workflow::State (329) Adding 'TIX_IN_PROGRESS' 'TIX_CLOSE' config 
16:32:53 INFO Workflow.State Workflow::State (360) Fetching condition 'HasUser' 
16:32:53 DEBUG Workflow.State Workflow::State (257) Constructing 'Workflow::State' object for state TIX_CLOSED 
16:32:53 DEBUG Workflow.State Workflow::State (283) Adding action 'TIX_REOPEN' to 'Workflow::State' 'TIX_CLOSED' 
16:32:53 DEBUG Workflow.State Workflow::State (329) Adding 'TIX_CLOSED' 'TIX_REOPEN' config 
16:32:53 INFO Workflow.State Workflow::State (360) Fetching condition 'HasUser' 
16:32:53 INFO Workflow.Factory Workflow::Factory (226) Added all workflow states... 
16:32:53 INFO Workflow.Factory Workflow::Factory (274) Added observers to 'Ticket':  
16:32:53 INFO Workflow.Factory Workflow::Factory (229) Added all workflow observers... 
16:32:53 DEBUG Workflow.Factory Workflow::Factory (477) Adding configuration for persister 'TestPersister' 
16:32:53 DEBUG Workflow.Factory Workflow::Factory (486) Trying to include persister class 'Workflow::Persister::DBI'... 
16:32:53 DEBUG Workflow.Factory Workflow::Factory (493) Included persister 'TestPersister' class 'Workflow::Persister::DBI' ok; now try to instantiate persister... 
16:32:53 INFO Workflow.Persister Workflow::Persister (29) Initializing persister 'TestPersister' 
16:32:53 DEBUG Workflow.Persister.DBI Workflow::Persister::DBI (39) Pulled driver 'Mock' from DBI DSN 
16:32:53 DEBUG Workflow.Persister.DBI Workflow::Persister::DBI (105) Assigning random ID generators 
16:32:53 INFO Workflow.Persister.DBI Workflow::Persister::DBI (43) Assigned workflow generator 'Workflow::Persister::RandomId'; history generator 'Workflow::Persister::RandomId' 
16:32:53 INFO Workflow.Persister.DBI Workflow::Persister::DBI (48) Assigned workflow table 'workflow'; history table 'workflow_history' 
16:32:53 DEBUG Workflow.Persister.DBI Workflow::Persister::DBI (67) Connected to database 'DBI:Mock:' and assigned to persister ok 
16:32:53 DEBUG Workflow.Factory Workflow::Factory (501) Instantiated persister 'TestPersister' ok 
16:32:53 DEBUG Workflow.Factory Workflow::Factory (92) Using 'workflow' configuration file(s): workflow_observer.xml 
16:32:53 DEBUG Workflow.Factory Workflow::Factory (98) Adding condition configurations... 
16:32:53 DEBUG Workflow.Factory Workflow::Factory (112) Adding validator configurations... 
16:32:53 DEBUG Workflow.Factory Workflow::Factory (127) Adding persister configurations... 
16:32:53 DEBUG Workflow.Factory Workflow::Factory (142) Adding action configurations... 
16:32:53 DEBUG Workflow.Factory Workflow::Factory (157) Adding workflow configurations... 
16:32:53 INFO Workflow.Config.XML Workflow::Config::XML (50) Will parse 'workflow' XML config file 'workflow_observer.xml' 
16:32:53 INFO Workflow.Config.XML Workflow::Config::XML (59) Parsed XML 'workflow_observer.xml' ok 
16:32:53 DEBUG Workflow.Config.XML Workflow::Config::XML (67) Adding single configuration for 'workflow' 
16:32:53 DEBUG Workflow.State Workflow::State (257) Constructing 'Workflow::State' object for state INITIAL 
16:32:53 DEBUG Workflow.State Workflow::State (283) Adding action 'null' to 'Workflow::State' 'INITIAL' 
16:32:53 DEBUG Workflow.State Workflow::State (329) Adding 'INITIAL' 'null' config 
16:32:53 DEBUG Workflow.State Workflow::State (257) Constructing 'Workflow::State' object for state FIRST 
16:32:53 DEBUG Workflow.State Workflow::State (283) Adding action 'null2' to 'Workflow::State' 'FIRST' 
16:32:53 DEBUG Workflow.State Workflow::State (329) Adding 'FIRST' 'null2' config 
16:32:53 DEBUG Workflow.State Workflow::State (283) Adding action 'null' to 'Workflow::State' 'FIRST' 
16:32:53 DEBUG Workflow.State Workflow::State (329) Adding 'FIRST' 'null' config 
16:32:53 DEBUG Workflow.State Workflow::State (257) Constructing 'Workflow::State' object for state PROGRESS 
16:32:53 DEBUG Workflow.State Workflow::State (283) Adding action 'null' to 'Workflow::State' 'PROGRESS' 
16:32:53 DEBUG Workflow.State Workflow::State (329) Adding 'PROGRESS' 'null' config 
16:32:53 DEBUG Workflow.State Workflow::State (257) Constructing 'Workflow::State' object for state CLOSED 
16:32:53 DEBUG Workflow.State Workflow::State (283) Adding action 'null' to 'Workflow::State' 'CLOSED' 
16:32:53 DEBUG Workflow.State Workflow::State (329) Adding 'CLOSED' 'null' config 
16:32:53 INFO Workflow.Factory Workflow::Factory (226) Added all workflow states... 
16:32:53 INFO Workflow.Factory Workflow::Factory (274) Added observers to 'ObservedTicket': SomeObserver, CODE(0x1adfa04) 
16:32:53 INFO Workflow.Factory Workflow::Factory (229) Added all workflow observers... 
16:32:53 INFO Workflow Workflow (207) Instantiating workflow of with ID '' and type 'ObservedTicket' with current state 'INITIAL' 
16:32:53 DEBUG Workflow Workflow (220) Assigning parameter 'persister' -> 'TestPersister' 
16:32:53 INFO Workflow.Factory Workflow::Factory (305) Instantiated workflow object properly, persisting... 
16:32:53 DEBUG Workflow.Persister.DBI Workflow::Persister::DBI (193) Got ID from pre_fetch_id: BKBVFJHK 
16:32:53 DEBUG Workflow.Persister.DBI Workflow::Persister::DBI (202) Will use SQL
INSERT INTO workflow ( type, state, last_update, workflow_id ) VALUES ( ?, ?, ?, ? ) 
16:32:53 DEBUG Workflow.Persister.DBI Workflow::Persister::DBI (203) Will use parameters
ObservedTicket, INITIAL, 2007-07-06 14:32, BKBVFJHK 
16:32:53 INFO Workflow.Factory Workflow::Factory (310) Persisted workflow with ID 'BKBVFJHK'; creating history... 
16:32:53 DEBUG Workflow.Persister.DBI Workflow::Persister::DBI (306) Will use SQL
INSERT INTO workflow_history ( workflow_id, action, description, state, workflow_user, history_date, workflow_hist_id ) VALUES ( ?, ?, ?, ?, ?, ?, ? ) 
16:32:53 DEBUG Workflow.Persister.DBI Workflow::Persister::DBI (307) Will use parameters
BKBVFJHK, Create workflow, Create new workflow, INITIAL, n/a, 2007-07-06 14:32, MMDDJKVN 
16:32:53 INFO Workflow.Persister.DBI Workflow::Persister::DBI (327) Workflow history entry MMDDJKVN created ok 
16:32:53 INFO Workflow.Factory Workflow::Factory (322) Created history object ok 
16:32:53 DEBUG Workflow.Persister.DBI Workflow::Persister::DBI (237) Will use SQL

        SELECT state, last_update
          FROM workflow 
         WHERE workflow_id = ?
     
16:32:53 DEBUG Workflow.Persister.DBI Workflow::Persister::DBI (238) Will use parameters: 1 
16:32:53 DEBUG Workflow.Factory Workflow::Factory (342) Fetched data for workflow '1' ok: [State: INITIAL] [Last update: ] 
16:32:53 INFO Workflow Workflow (207) Instantiating workflow of with ID '1' and type 'ObservedTicket' with current state 'INITIAL' 
16:32:53 DEBUG Workflow Workflow (220) Assigning parameter 'persister' -> 'TestPersister' 
16:32:53 INFO Workflow.Persister Workflow::Persister (97) Called empty 'fetch_extra_workflow_data()' (ok) 
16:32:53 DEBUG Workflow.Persister Workflow::Persister (98) An empty implementation is not an error as you may not need this extra functionality. If you do you should use a perister for this purpose (e.g., Workflow::Persister::DBI::ExtraData) or create your own and just implement this method. 
16:32:53 DEBUG Workflow.Persister.DBI Workflow::Persister::DBI (237) Will use SQL

        SELECT state, last_update
          FROM workflow 
         WHERE workflow_id = ?
     
16:32:53 DEBUG Workflow.Persister.DBI Workflow::Persister::DBI (238) Will use parameters: 1 
16:32:53 DEBUG Workflow.Factory Workflow::Factory (342) Fetched data for workflow '1' ok: [State: INITIAL] [Last update: ] 
16:32:53 INFO Workflow Workflow (207) Instantiating workflow of with ID '1' and type 'ObservedTicket' with current state 'INITIAL' 
16:32:53 DEBUG Workflow Workflow (220) Assigning parameter 'persister' -> 'TestPersister' 
16:32:53 INFO Workflow.Persister Workflow::Persister (97) Called empty 'fetch_extra_workflow_data()' (ok) 
16:32:53 DEBUG Workflow.Persister Workflow::Persister (98) An empty implementation is not an error as you may not need this extra functionality. If you do you should use a perister for this purpose (e.g., Workflow::Persister::DBI::ExtraData) or create your own and just implement this method. 
16:32:53 DEBUG Workflow.Persister.DBI Workflow::Persister::DBI (269) Will use SQL

        UPDATE workflow
           SET state = ?,
               last_update = ?
         WHERE workflow_id = ?
     
16:32:53 DEBUG Workflow.Persister.DBI Workflow::Persister::DBI (270) Will use parameters
INITIAL, 2007-07-06 14:32, 1 
16:32:53 INFO Workflow.Persister.DBI Workflow::Persister::DBI (282) Workflow 1 updated ok 
16:32:53 INFO Workflow.Factory Workflow::Factory (394) Workflow '1' updated ok 
16:32:53 INFO Workflow.Factory Workflow::Factory (401) Created necessary history objects ok 
16:32:53 DEBUG Workflow.Persister.DBI Workflow::Persister::DBI (237) Will use SQL

        SELECT state, last_update
          FROM workflow 
         WHERE workflow_id = ?
     
16:32:53 DEBUG Workflow.Persister.DBI Workflow::Persister::DBI (238) Will use parameters: 1 
16:32:53 DEBUG Workflow.Factory Workflow::Factory (342) Fetched data for workflow '1' ok: [State: INITIAL] [Last update: ] 
16:32:53 INFO Workflow Workflow (207) Instantiating workflow of with ID '1' and type 'ObservedTicket' with current state 'INITIAL' 
16:32:53 DEBUG Workflow Workflow (220) Assigning parameter 'persister' -> 'TestPersister' 
16:32:53 INFO Workflow.Persister Workflow::Persister (97) Called empty 'fetch_extra_workflow_data()' (ok) 
16:32:53 DEBUG Workflow.Persister Workflow::Persister (98) An empty implementation is not an error as you may not need this extra functionality. If you do you should use a perister for this purpose (e.g., Workflow::Persister::DBI::ExtraData) or create your own and just implement this method. 
16:32:53 DEBUG Workflow Workflow (252) Trying to find action 'null' in state 'INITIAL' 
16:32:53 DEBUG Workflow Workflow (276) Finding Workflow::State object for state [given: INITIAL] [internal: INITIAL] 
16:32:53 DEBUG Workflow Workflow (260) Action 'null' exists in state 'INITIAL' 
16:32:53 DEBUG Workflow Workflow (83) Action validated ok 
16:32:53 DEBUG Workflow Workflow (85) Action executed ok 
16:32:53 DEBUG Workflow Workflow (276) Finding Workflow::State object for state [given: INITIAL] [internal: INITIAL] 
16:32:53 INFO Workflow Workflow (89) Set new state 'FIRST' after action executed 
16:32:53 DEBUG Workflow.Persister.DBI Workflow::Persister::DBI (269) Will use SQL

        UPDATE workflow
           SET state = ?,
               last_update = ?
         WHERE workflow_id = ?
     
16:32:53 DEBUG Workflow.Persister.DBI Workflow::Persister::DBI (270) Will use parameters
FIRST, 2007-07-06 14:32, 1 
16:32:53 INFO Workflow.Persister.DBI Workflow::Persister::DBI (282) Workflow 1 updated ok 
16:32:53 INFO Workflow.Factory Workflow::Factory (394) Workflow '1' updated ok 
16:32:53 INFO Workflow.Factory Workflow::Factory (401) Created necessary history objects ok 
16:32:53 INFO Workflow Workflow (100) Saved workflow with possible new state ok 
16:32:53 DEBUG Workflow Workflow (276) Finding Workflow::State object for state [given: FIRST] [internal: FIRST] 
